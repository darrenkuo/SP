<b>CS 61A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Week 9</b>
<div class="p"><!----></div>
Topic: Mutable data, vectors
<div class="p"><!----></div>
<b>Reading:</b>
Abelson &amp; Sussman, Section 3.3.1-3
<div class="p"><!----></div>
(If you are a hardware type you might enjoy reading 3.3.4 even though
it isn't required.)

<div class="p"><!----></div>
<b>Homework:</b>
<div class="p"><!----></div>
Abelson &amp; Sussman, exercises 3.16, 3.17, 3.21, 3.25, 3.27
<div class="p"><!----></div>
You don't need to draw the environment diagram for exercise 3.27;
use a trace to provide the requested explanations.
Treat the table procedures <tt>lookup</tt> and <tt>insert!</tt>&nbsp;as primitive;
i.e.&nbsp;don't trace the procedures they call.
Also, assume that those procedures work in constant time.
We're interested to know about the number of times <tt>memo-fib</tt> is
invoked.

<div class="p"><!----></div>

<div class="p"><!----></div>
<b>Vector questions:</b>
In all these exercises, don't use a list as an intermediate value.
(That is, don't convert the vectors to lists!)

<div class="p"><!----></div>
1.  Write <tt>vector-append</tt>, which takes two vectors as arguments and
returns a new vector containing the elements of both arguments, analogous to
<tt>append</tt> for lists.

<div class="p"><!----></div>
2.  Write <tt>vector-filter</tt>, which takes a predicate function and a vector
as arguments, and returns a new vector containing only those elements of the
argument vector for which the predicate returns true.  The new vector should
be exactly big enough for the chosen elements.  Compare the running time of
your program to this version:

<div class="p"><!----></div>
<tt>  <pre>(define (vector-filter pred vec)
  (list-&#62;vector (filter pred (vector-&#62;list vec))))

</pre></tt>
3.  Sorting a vector.

<div class="p"><!----></div>
(a) Write <tt>bubble-sort!</tt>, which takes a vector of numbers and
rearranges them to be in increasing order.  (You'll modify the
argument vector; don't create a new one.)  It uses the following
algorithm:

<div class="p"><!----></div>
[1] Go through the array, looking at two adjacent elements at a
time, starting with elements 0 and 1.  If the earlier element is
larger than the later element, swap them.  Then look at the next
overlapping pair (0 and 1, then 1 and 2, etc.).

<div class="p"><!----></div>
[2] Recursively bubble-sort all but the last element (which is
now the largest element).

<div class="p"><!----></div>
[3] Stop when you have only one element to sort.

<div class="p"><!----></div>
(b) Prove that this algorithm really does sort the vector.
Hint:  Prove the parenthetical claim in step [2].

<div class="p"><!----></div>
(c) What is the order of growth of the running time of this
algorithm?

<div class="p"><!----></div>
<b>Note:  Part II of programming project 3 is also due next week.</b>

<div class="p"><!----></div>
<b>Continued on next page.</b>

<div class="p"><!----></div>

<div class="p"><!----></div>
<b>Week 9 continued...</b>

<div class="p"><!----></div>
<b>Extra for experts:</b>
<div class="p"><!----></div>
1. Abelson and Sussman, exercises 3.19 and 3.23.

<div class="p"><!----></div>
Exercise 3.19 is incredibly hard
but if you get it, you'll feel great about yourself.  You'll need to
look at some of the other exercises you skipped in this section.

<div class="p"><!----></div>
Exercise 3.23 isn't quite so hard,
but be careful about the O(1)-i.e.&nbsp;<i>constant</i>-time requirement.

<div class="p"><!----></div>
2.  Write the procedure <tt>cxr-name</tt>.  Its argument will be a function
made by composing <tt>car</tt>s and <tt>cdr</tt>s.  It should return the
appropriate name for that function:

<div class="p"><!----></div>
<tt>  <pre>&#62; (cxr-name (lambda (x) (cadr (cddar (cadar x)))))
CADDDAADAR

</pre></tt>

<div class="p"><!----></div>
<br /><hr />
Unix feature of the week: <tt>alias</tt>, <tt>unalias</tt>
<div class="p"><!----></div>
Emacs feature of the week: <tt>C-x 4</tt> (split window)
<div class="p"><!----></div>

<div class="p"><!----></div>

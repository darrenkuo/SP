<b>CS 61A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Week 10</b>
<div class="p"><!----></div>
Topic: client/server, concurrency
<div class="p"><!----></div>
<b>Reading:</b>
Abelson &amp; Sussman, Section 3.4
<div class="p"><!----></div>
<b>Homework:</b>
<div class="p"><!----></div>
These exercises use the Instant Message program, found in the following files:

<div class="p"><!----></div>
<tt>  <pre>&#126;cs61a/lib/im-client.scm
&#126;cs61a/lib/im-server.scm
&#126;cs61a/lib/im-common.scm

</pre></tt>

<div class="p"><!----></div>
1.  Invent the capability to send a message to a list of clients as
well as to a single client.  Do this entirely in the client program,
so what actually goes to the server is multiple requests.

<div class="p"><!----></div>
2.  Invent the capability to broadcast a message to every client.
Do this by inventing a <tt>broadcast</tt> command that the server understands.

<div class="p"><!----></div>
3.  Could #1 have been done with the server doing part of the work?
Could #2 have been done entirely in the client code?  Compare the
virtues of the two approaches.

<div class="p"><!----></div>
4.  Invent the capability of refusing messages from specific people.
The sender of a refused message should be notified of the refusal.
Decide whether to do it entirely in the client or with the server's
cooperation, and explain why.

<div class="p"><!----></div>
5.  Why is the 3-way handshake necessary when connecting to the server?

<div class="p"><!----></div>
<font face="symbol"></font
> Abelson &amp; Sussman, exercises 3.38, 3.39, 3.40, 3.41, 3.42, 3.44, 3.46, 3.48
<div class="p"><!----></div>
<b>Extra for experts:</b>
<div class="p"><!----></div>
Using the Instant Message program as a starting point, write a mail
server and client.  The mail server should maintain a database of messages
for all users.  (This can just be a list; don't worry about efficient lookup.)
The client should be able to do the following:

<div class="p"><!----></div>
<tt>  <pre>(mail username message)
(get-mail)

</pre></tt>

<div class="p"><!----></div>
<tt>Get-mail</tt> should return a list of messages, which should be deleted
from the server.

<div class="p"><!----></div>
If you want, you can improve this in several ways:  Make deletion from the
server be explicitly requested by the client, invent a subject header (another
argument to <tt>mail</tt>) and have the client show just headers in <tt>
get-mail</tt> and provide another command to read the text of a specific message,
and so on.

<div class="p"><!----></div>
<font face="symbol"></font
> Read Section 3.3.5 and do exercises 3.33-3.37.

<div class="p"><!----></div>
<br /><hr />
Unix feature of the week: <tt>&amp;</tt>, <tt>^Z</tt>, <tt>fg</tt>, <tt>bg</tt>, <tt>jobs</tt>, <tt>kill</tt>
<div class="p"><!----></div>
Emacs feature of the week: <tt>M-x abbrev-mode</tt>, <tt>M-x add-mode-abbrev</tt>
<div class="p"><!----></div>

<div class="p"><!----></div>

<div class="p"><!----></div>
